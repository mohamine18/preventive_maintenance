<%- include('../../includes/head'); -%>
    <link rel="stylesheet" href="/css/login.css">
</head>
<body>
    <%- include('../../includes/navigation'); -%>
    <main class="form-signin w-100 m-auto border border-primary rounded-2">
        <% if (errors !== null) { %>
            <%- include('../../includes/errors'); -%>
        <% } %>
        <form  action="/admin/user/<%= user._id %>" method="POST">
            <h1 class="h4 mb-3 fw-normal mt-3 text-center">Edit account</h1>
            <div class="form-floating mb-3">
                <input type="name" class="form-control" name="name" id="name" placeholder="name" <% if (user !== null) { %> value="<%= user.name %>"<% } %> >
                <label for="email">Name</label>
            </div>
            <div class="form-floating mb-3 disabled">
                <input type="email" class="form-control" name="email" id="email" placeholder="email" <% if (user !== null) { %> value="<%= user.email %>"<% } %> disabled>
                <label for="email">Email address</label>
            </div>
            <select class="form-select mb-3" aria-label="role" name="role" id="role" <% if (user !== null) { %> data-value="<%= user.role %>"<% } %>>
                <option selected disabled hidden>Select a role</option>
                <option value="admin">Admin</option>
                <option value="user">User</option>
            </select>
            <select class="form-select mb-3" aria-label="function" name="func" id="function" <% if (user !== null) { %> data-value="<%= user.func %>"<% } %>>
                <option selected disabled hidden>Select a function</option>
                <option value="technician">Technician</option>
                <option value="engineer">Engineer</option>
                <option value="collaborator">Collaborator</option>
            </select>
            <div class="form-floating mb-3">
                <input type="password" class="form-control" name="password" placeholder="Password" id="password" disabled>
                <label for="floatingPassword">Password</label>
            </div>
            <div class="form-floating mb-3">
                <input type="password" class="form-control" name="confirmPassword" placeholder="Confirm Password" id="confirmPassword" disabled>
                <label for="floatingPassword">Confirm Password</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="changePassword" id="changPassword">
                <label class="form-check-label" for="changPassword">
                  Change Password
                </label>
            </div>
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
            <button class="w-100 btn btn-lg btn-primary mt-3" type="submit">Edit</button>
            <a class="w-100 btn btn-lg btn-outline-secondary mt-3" href="/admin/users">Cancel</a>
        </form>
    </main>
<script src="/js/edituser.js"></script>

<%- include('../../includes/footer'); -%>